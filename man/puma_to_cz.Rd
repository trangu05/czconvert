% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/puma_to_cz_function.R
\name{puma_to_cz}
\alias{puma_to_cz}
\title{Crosswalk PUMA codes to Commuting Zones (CZ90)}
\usage{
puma_to_cz(
  df,
  puma_vintage = c("2000", "2010", "2020"),
  to_cz = "cz90",
  method = c("m:m", "1:1")
)
}
\arguments{
\item{df}{A data.frame/tibble with at least column `puma` (6-character string).}

\item{puma_vintage}{One of "2000","2010","2020". Matches your microdata PUMA coding.}

\item{to_cz}{Which CZ definition to output. For now, fixed to "cz90".}

\item{method}{Mapping mode:
- "m:m" keeps many-to-many using `afactor` shares
- "1:1" collapses to the single dominant CZ per PUMA}
}
\value{
Input `df` with added columns `cz90` and `afactor`.
}
\description{
Crosswalk PUMA codes to Commuting Zones (CZ90)
}
\details{
With `method = "m:m"`, each PUMA record may appear multiple times,
once per commuting zone, with weights in `afactor`.
With `method = "1:1"`, each PUMA is assigned to its dominant commuting zone.
}
\examples{
df <- tibble::tibble(id = 1:3, puma = c("100100","100200","100100"))
puma_to_cz(df, puma_vintage = "2000", method = "m:m")
puma_to_cz(df, puma_vintage = "2000", method = "1:1")

}
